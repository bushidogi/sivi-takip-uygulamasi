<html>
<head>
    <title>Hasta Takip UygulamasÄ±</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 30px; background-color: #f4f4f9; }
        h1 { color: #333; text-align: center; }
        .kutu { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; }
        input, select, button { width: 100%; padding: 10px; margin: 5px 0; box-sizing: border-box; }
        button { background-color: #28a745; color: white; border: none; cursor: pointer; font-weight: bold; }
        button:hover { background-color: #218838; }
        table { width: 100%; margin-top: 20px; border-collapse: collapse; }
        th, td { padding: 10px; border-bottom: 1px solid #ddd; text-align: left; }
        th { background-color: #333; color: white; }
        hr { border: 0; height: 1px; background-color: #ccc; margin: 20px 0; }
    </style>
</head>
<body>
    <p style="text-align: center; margin-top: 30px; font-size: 12px; color: #666;">
        <hr style="margin: 10px 0; border: 0; height: 1px; background-color: #ddd;">
        
        Not: Melisa'yÄ± Ã§ok seviyorum! â¤ï¸
        
    </p>
    </div> </body>
</html>
    <div class="kutu">
        <h1>ğŸ’§ Hasta SÄ±vÄ± Takip UygulamasÄ±</h1>
        
        <h3>GÃ¼nlÃ¼k SÄ±vÄ± Dengesi Raporu</h3>
        <table>
            <tr><th>Tarih</th><th>SÄ±vÄ± GiriÅŸi (ml)</th><th>SÄ±vÄ± Ã‡Ä±kÄ±ÅŸÄ± (ml)</th><th>Net Denge (ml)</th></tr>
            
            <% 
            // app.js'ten gelen dailyBalance verisini burada kullanÄ±yoruz
            for (const tarih in dailyBalance) {
                const giris = dailyBalance[tarih].giris;
                const cikis = dailyBalance[tarih].cikis;
                const net = giris - cikis;
                const netRenk = net >= 0 ? 'color: green; font-weight: bold;' : 'color: red; font-weight: bold;';
            %>
                <tr>
                    <td><%= tarih %></td>
                    <td><%= giris %></td>
                    <td><%= cikis %></td>
                    <td style="<%= netRenk %>"><%= net %></td>
                </tr>
            <% } %>
        </table>
        <hr>

        <h3>Yeni KayÄ±t GiriÅŸi</h3>
        <form action="/kaydet" method="POST">
            <label>Tarih ve Saat:</label>
            <div style="display:flex; gap:10px;">
                <input type="date" name="tarih" required>
                <input type="time" name="saat" required>
            </div>

            <label>Ä°ÅŸlem TÃ¼rÃ¼:</label>
            <select name="tur">
                <option value="Su Ä°Ã§ildi">Su GiriÅŸi (Ä°Ã§ildi)</option>
                <option value="Ä°drar Ã‡Ä±kÄ±ÅŸÄ±">Ä°drar Ã‡Ä±kÄ±ÅŸÄ±</option>
            </select>

            <label>Miktar (ml):</label>
            <input type="number" name="miktar" placeholder="Ã–rn: 200" required>

            <button type="submit">Kaydet</button>
        </form>

        <hr>
        <h3>DetaylÄ± KayÄ±t Listesi</h3>
        <div style="margin-bottom: 15px;">
            <span style="font-weight: bold;">SÄ±rala:</span>
            <a href="/?sort=yeniden_eskiye" style="margin-left: 10px;">En Yeni KayÄ±tlar</a> | 
            <a href="/?sort=eskiden_yeniye">En Eski KayÄ±tlar</a>
        </div>
        <table>
            <thead>
                <tr>
                    <th>Tarih</th>
                    <th>Saat</th>
                    <th>TÃ¼r</th>
                    <th>Miktar</th>
                    <th>Ä°ÅŸlem</th> 
                </tr>
            </thead>
            <tbody>
                <% 
                // app.js'ten gelen kayitlar verisini burada dÃ¶ngÃ¼ye sokuyoruz
                kayitlar.forEach(kayit => {
                    const renk = kayit.tur === "Su Ä°Ã§ildi" ? "#e3f2fd" : "#fff9c4";
                %>
                    <tr style="background-color: <%= renk %>">
                        <td><%= kayit.tarih %></td>
                        <td><%= kayit.saat %></td>
                        <td><%= kayit.tur %></td>
                        <td><%= kayit.miktar %> ml</td>
                        <td>
                            <a href="/duzenle/<%= kayit.id %>" style="background-color: #ffc107; color: #333; padding: 5px 10px; border-radius: 3px; text-decoration: none; font-size: 14px; margin-right: 5px; display: inline-block;">DÃ¼zenle</a>
                            
                            <form action="/sil" method="POST" style="display:inline-block;">
                                <input type="hidden" name="id" value="<%= kayit.id %>">
                                <button type="submit" style="background-color: #dc3545; padding: 5px 10px; font-weight: normal; width: auto; font-size: 14px;">Sil</button>
                            </form>
                        </td>
                    </tr>
                <% }); %>
            </tbody>
        </table>
    </div>
</body>
</html>
